# VCMS 자동 리포트 시스템

## 이게 뭔가요?

VCMS 슬랙 채널(`#system-vcms-noti`)의 메시지를 AI가 자동으로 읽고, **주간 리포트**를 만들어서 슬랙에 올려주는 시스템입니다.

사람이 하던 수작업 리포트를 자동화한 거예요.

---

## 어떻게 동작하나요?

```
매주 월요일 오후 3시
  |
  +- 1. 지난주(월~일) 슬랙 채널 메시지 수집
  +- 2. 팀원들이 남긴 피드백 반영
  +- 3. AI(Claude)가 주간 리포트 작성
  +- 4. 슬랙에 리포트 + 피드백 버튼 게시
```

---

## 리포트

| 종류 | 언제 | 내용 |
|------|------|------|
| **주간 리포트** | 월요일 오후 3시 | 지난주 월~일 전체 종합 분석 |

- 월요일이 공휴일이면 자동 스킵됩니다
- 해당 기간에 메시지가 없으면 "내용 없음" 리포트가 올라옵니다

---

## 피드백 시스템

리포트가 올라오면 스레드에 **피드백 하기** 버튼이 있습니다.

### 피드백 하는 법
1. 스레드에서 **피드백 하기** 버튼 클릭
2. 피드백 유형 선택 (사실 오류 / 분류 기준 / 포맷 / 기타)
3. 내용 작성 후 제출

### 피드백이 반영되는 원리
- 제출한 피드백은 **영구 저장**됩니다 (최근 90일분 적용)
- 다음 주 리포트부터 AI가 피드백을 참고해서 작성합니다

### 피드백 유형

| 유형 | 언제 쓰나요 | 예시 |
|------|------------|------|
| 사실 오류 수정 | 리포트 내용이 틀렸을 때 | "서귀피안은 무료체험 신청 안 했음" |
| 분류 기준 변경 | 분류가 맞지 않을 때 | "비밀번호 변경은 교육간 특이사항이 아니라 운영 이슈" |
| 포맷/형식 변경 | 리포트 형식을 바꾸고 싶을 때 | "지역별로 묶어서 보여줘" |
| 기타 의견 | 그 외 개선 의견 | "요약이 너무 길어요" |

---

## 숫자 기준
- **유입**: 신규 신청 업소 수 (중복 제외)
- **완료**: '교육완료' 또는 완료 표시된 건
- **교육예정**: 날짜가 명시된 건만
- **미완료**: 채널에서 완료 표시 안 된 건

---

## 자주 묻는 질문

**Q. 리포트가 안 올라왔어요**
-> 월요일이 공휴일이면 정상입니다.

**Q. 리포트 내용이 틀렸어요**
-> 스레드의 피드백 하기 버튼으로 피드백 남겨주세요.

**Q. 리포트를 지금 당장 받고 싶어요**
-> 개발팀에 요청하면 수동 실행 가능합니다. (GitHub Actions -> Run workflow)

**Q. 피드백을 잘못 남겼어요**
-> 90일 후 자동으로 만료됩니다.

---

## 시스템 구성 (참고용)

| 구성요소 | 역할 | 비용 |
|---------|------|------|
| GitHub Actions | 매주 월요일 자동 실행 | 무료 |
| Claude API | 리포트 작성 AI | 월 ~$0.3 미만 |
| Cloudflare Workers | 피드백 버튼 처리 | 무료 |
| Cloudflare KV | 피드백 저장소 | 무료 |

**월 운영 비용: 약 $0.10~$0.30**
